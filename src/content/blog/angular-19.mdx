---
heroImage: /images/posts/angular-19-blog-post-banner.png
category: Angular
description: 'Angular 19 est√° trazendo Incremental Hydration, Event Replay por padr√£o, SSR sem Zone.js e outras novidades!'
pubDate: '2024-11-20'
draft: false
tags:
  - angular
title: 'Angular 19: Conhe√ßa as novidades!'
authorId: 'henrique-custodia'
---

import EmbedYtVideo from '@embed-yt-video'
import Ads from '@ads'

> Este artigo √© baseado no [Blog Post oficial do Angular](https://blog.angular.dev/meet-angular-v19-7b29dfd05b84)

O Angular 19 chegou trazendo uma s√©rie de recursos que prometem transformar a experi√™ncia de desenvolvimento e entrega de aplica√ß√µes web.

Entre as principais novidades est√£o o **Incremental Hydration**, que otimiza o desempenho de aplica√ß√µes SSR, **o modo de renderiza√ß√£o por rota** e
a evolu√ß√£o do sistema de reatividade com signals e **novas APIs estabilizadas**.

Al√©m disso, melhorias na experi√™ncia de desenvolvimento, como suporte a **Hot Module Replacement (HMR) para templates e estilos**,
refor√ßam o compromisso do framework com produtividade e inova√ß√£o.

Quer saber como essas atualiza√ß√µes podem impactar seu pr√≥ximo projeto?
Continue lendo para explorar os detalhes mais recentes e aproveite ao m√°ximo as novidades dessa nova vers√£o do Angular!

### Incremental Hydration em pr√©via para desenvolvedores

O _Incremental Hydration_ permite que trechos do template sejam marcados utilizando a sintaxe familiar `@defer`, instruindo o Angular a carregar e hidratar essas partes de forma lazy, com base em gatilhos espec√≠ficos.

#### Demonstra√ß√£o de Incremental Hydration

![Incremental Hydration demonstration](/images/posts/angular-19_incremental-hydration-example.gif)

Em uma demonstra√ß√£o de uma p√°gina e-commerce renderizada no servidor, inicialmente todo o conte√∫do est√° cinza, indicando que a aplica√ß√£o foi renderizada, mas nenhum script associado √† interface foi carregado. √Ä medida que o usu√°rio interage com elementos como a navega√ß√£o lateral ou itens na p√°gina, o Angular hidrata essas se√ß√µes, mudando o estilo visual.

Essa funcionalidade, ilustrada na demonstra√ß√£o, utiliza tr√™s efeitos visuais para destacar o progresso:

- **Cinza**: Componentes que ainda n√£o foram carregados ou hidratados.
- **Pulsa√ß√µes**: Indicam que o Angular est√° baixando um componente da rede.
- **Borda roxa**: Mostra que o componente foi baixado e hidratado com sucesso.

A funcionalidade j√° pode ser testada em aplica√ß√µes que utilizam _server-side rendering (SSR)_ e hidrata√ß√£o completa. Basta adicionar ao _bootstrap_ do cliente:

```typescript
import { provideClientHydration, withIncrementalHydration } from '@angular/platform-browser'

// ...
provideClientHydration(withIncrementalHydration())
```

No template, √© poss√≠vel aplicar o _Incremental Hydration_ em partes espec√≠ficas, como:

```html
@defer (hydrate on viewport) {
<shopping-cart />
}
```

Mais detalhes est√£o dispon√≠veis na [documenta√ß√£o oficial](https://angular.dev/guide/incremental-hydration).

---

### _Event Replay_ habilitado por padr√£o

Um problema comum em aplica√ß√µes SSR √© o intervalo entre um evento do usu√°rio e o carregamento do c√≥digo respons√°vel por process√°-lo. O _Event Replay_ captura eventos durante o carregamento inicial e os reexecuta quando o c√≥digo est√° dispon√≠vel, garantindo uma experi√™ncia cont√≠nua.

A partir do Angular 19, o _Event Replay_ √© habilitado por padr√£o para novos projetos que utilizam SSR. Para ativ√°-lo manualmente, configure o provedor de hidrata√ß√£o no _bootstrap_:

```typescript
bootstrapApplication(App, {
	providers: [provideClientHydration(withEventReplay())]
})
```

---

### Modo de renderiza√ß√£o por rota

Agora √© poss√≠vel configurar como cada rota ser√° renderizada, seja no servidor, no cliente ou pr√©-renderizada. Um exemplo de configura√ß√£o:

```typescript
export const serverRouteConfig: ServerRoute[] = [
	{ path: '/login', mode: RenderMode.Server },
	{ path: '/dashboard', mode: RenderMode.Client },
	{ path: '/**', mode: RenderMode.Prerender }
]
```

Al√©m disso, para rotas com par√¢metros, √© poss√≠vel pr√©-renderiz√°-las com base em l√≥gica personalizada utilizando o m√©todo `getPrerenderPaths`.

---

<Ads />

---

### SSR com Angular sem Zone.js

O Angular 19 continua a evolu√ß√£o da vers√£o experimental sem depend√™ncia de `zone.js`. Isso √© feito por meio de novas primitivas que lidam com eventos pendentes e navega√ß√µes no _HttpClient_ e no _Router_. √â poss√≠vel experimentar o suporte _zoneless_ removendo `zone.js` dos _polyfills_ e configurando o bootstrap:

```typescript
bootstrapApplication(App, {
	providers: [provideExperimentalZonelessChangeDetection()]
})
```

---

### Melhoria na experi√™ncia de desenvolvimento

#### _Hot Module Replacement (HMR)_

O Angular agora suporta _Hot Module Replacement_ para estilos por padr√£o e oferece suporte experimental para templates. Altera√ß√µes em estilos ou templates s√£o aplicadas sem recarregar a p√°gina, mantendo o estado da aplica√ß√£o.

Para habilitar o HMR de templates, utilize:

```bash
NG_HMR_TEMPLATES=1 ng serve
```

---

### Reactividade: novos recursos e APIs est√°veis

O Angular 19 traz novidades na evolu√ß√£o do sistema de reatividade:

- **Inputs, Outputs e Queries estabilizados**: Agora, esses recursos est√£o dispon√≠veis para uso em produ√ß√£o. Migrations autom√°ticas podem ser realizadas com:

  ```bash
  ng generate @angular/core:signals
  ```

- **Linked Signals**: Introduz um signal mut√°vel que acompanha um estado de n√≠vel superior. Por exemplo:

  ```typescript
  const options = signal(['apple', 'banana'])
  const choice = linkedSignal(() => options()[0])
  ```

- **Resource API**: Para opera√ß√µes ass√≠ncronas, a API experimental `resource` integra-se ao sistema de signals:

  ```typescript
  user = resource({
  	request: userId,
  	loader: async ({ request: id }) => await userService.getUser(id)
  })
  ```

---

### Outras melhorias

- **Standalone como padr√£o**: Componentes standalone agora s√£o configurados como padr√£o.
- **Testes unit√°rios**: Suporte experimental para o builder esbuild no Karma, preparando o terreno para substituir esse runner em 2025.
- **CSP baseado em hash**: Implementa√ß√£o experimental para pol√≠ticas de seguran√ßa de conte√∫do baseadas em hash, protegendo contra scripts maliciosos.
- **Vari√°veis locais em templates**: Agora est√°veis, permitem declara√ß√µes como:

  ```html
  @let greeting = 'Ol√° ' + name.value;
  ```

---

**Explore o Futuro com o Angular 19**

A vers√£o 19 do Angular traz avan√ßos significativos para o desenvolvimento web. Com novidades como _Incremental Hydration_, renderiza√ß√£o por rota e melhorias em reatividade com signals, esta atualiza√ß√£o oferece mais efici√™ncia e flexibilidade.

Aproveite as novas ferramentas, otimize seus projetos e contribua para moldar o futuro do framework. O Angular 19 est√° pronto para elevar o n√≠vel das suas aplica√ß√µes. üöÄ

N√£o se esque√ßa de <a href='javascript:void(0);' scroll-to="newsletter-form">se inscrever na nossa Newsletter</a> para receber todas as novidades sobre Angular e outras tecnologias.
